# VVG World Environment Variables
# Copy this file to .env.local and fill in your values

# =================================================================
# CORE CONFIGURATION
# =================================================================

# Node environment (development, production, test)
NODE_ENV=development

# Project identity
PROJECT_NAME=vvg-world
PROJECT_DISPLAY_NAME="VVG Document Processing"
APP_DOMAIN=localhost:3000

# BasePath configuration (for deployment under subpaths)
# Leave empty for root deployment or set to subpath like '/my-app'
# Both variables should have the same value
BASE_PATH=
NEXT_PUBLIC_BASE_PATH=

# =================================================================
# AUTHENTICATION (NextAuth.js)
# =================================================================

# REQUIRED: NextAuth configuration
NEXTAUTH_URL=http://localhost:3001
NEXTAUTH_SECRET=your-secret-here-generate-with-openssl-rand-base64-32

# Azure AD OAuth (Primary authentication method)
AZURE_AD_CLIENT_ID=your-azure-client-id
AZURE_AD_CLIENT_SECRET=your-azure-client-secret
AZURE_AD_TENANT_ID=your-azure-tenant-id

# Alternative: Google OAuth (if not using Azure AD)
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# =================================================================
# DATABASE CONFIGURATION
# =================================================================

# MySQL connection (Optional - falls back to in-memory storage)
MYSQL_HOST=localhost
MYSQL_PORT=3306
MYSQL_USER=your-db-username
MYSQL_PASSWORD=your-db-password
MYSQL_DATABASE=vvg_world

# Database access control
DB_CREATE_ACCESS=false  # Set to true to enable database operations

# Alternative: Use DATABASE_URL for connection string
# DATABASE_URL=mysql://user:password@localhost:3306/database

# =================================================================
# STORAGE CONFIGURATION
# =================================================================

# Storage provider: 'local' or 's3'
STORAGE_PROVIDER=local

# Local storage settings
LOCAL_UPLOAD_DIR=./uploads

# AWS S3 settings (if STORAGE_PROVIDER=s3)
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
S3_BUCKET_NAME=your-s3-bucket
S3_FOLDER_PREFIX=vvg-world/

# =================================================================
# AI/ML SERVICES
# =================================================================

# OpenAI API Key (for document analysis and comparison)
OPENAI_API_KEY=your-openai-api-key-here

# =================================================================
# FEATURE FLAGS
# =================================================================

# Development features
FEATURE_DEV_BYPASS=true  # Allow X-Dev-Bypass header in development

# =================================================================
# SECURITY & RATE LIMITING
# =================================================================

# Queue processing token (for internal API calls)
QUEUE_SYSTEM_TOKEN=your-secure-token-here

# Test user for development
TEST_USER_EMAIL=test@example.com
DEV_SEED_USER=your-email@example.com

# =================================================================
# OPTIONAL CONFIGURATIONS
# =================================================================

# Monitoring and analytics
PENDO_API_KEY=

# Custom ports
PORT=3001

# Logging
LOG_LEVEL=info

# Upload limits
MAX_UPLOAD_SIZE=10485760  # 10MB in bytes

# Production settings
SECURE_COOKIES=true       # For production
TRUST_PROXY=true          # For production behind reverse proxy

# =================================================================
# TESTING CONFIGURATION
# =================================================================

# Required for test scripts to work properly
# NEXTAUTH_SECRET must be set for authentication to work
# Example for testing: NEXTAUTH_SECRET=test-secret-for-development

# =================================================================
# PATH CONFIGURATION (Dynamic URLs)
# =================================================================

# Dynamic redirect paths
SIGNIN_PAGE=/sign-in
SIGNOUT_PAGE=/auth/signout
DASHBOARD_PATH=/dashboard
DEFAULT_REDIRECT_PATH=/dashboard

# =================================================================
# QUICK START
# =================================================================
# 1. Copy this file: cp .env.example .env.local
# 2. Set NEXTAUTH_SECRET: openssl rand -base64 32
# 3. Run in development: npm run dev
# 4. Access at: http://localhost:3001
#
# For production deployment:
# - Set all required authentication variables
# - Configure database or use in-memory fallback
# - Set up S3 or use local storage
# - Add OpenAI key for document analysis